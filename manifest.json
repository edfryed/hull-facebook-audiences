{
  "name": "Facebook Ad Audiences",
  "description": "Target your Leads with Facebook Ads",
  "tags": ["outgoing", "oneColumn", "smart-notifier"],
  "source": "facebook-audiences",
  "logo": "logo.png",
  "picture": "picture.png",
  "ui": false,
  "tabs": [
    {
      "title": "Credentials & Actions",
      "url": "admin",
      "size": "small",
      "editable": false
    }
  ],
  "readme" : "readme.md",
  "version": "0.2.3",
  "private_settings": [
    {
      "name" : "facebook_access_token",
      "title" : "Facebook Access Token",
      "type" : "string",
      "format":"hidden"

    },
    {
      "name" : "facebook_ad_account_id",
      "title" : "Facebook Ad Account ID",
      "type" : "string",
      "format":"hidden"
    },
    {
      "name": "synchronized_segments_hero",
      "type": "string",
      "headerTemplate": "The field below is a legacy setup which works only for existing connectors and custom audiences. Table beneath is the current way of specifying synchronized segments.",
      "format": "information",
      "title": "Legacy Whitelisted Segments"
    },
    {
      "name": "synchronized_segments",
      "title": "Segments",
      "description": "Sync to Facebook these segments (deprecated, fill in table below)",
      "default": [],
      "type": "array",
      "format": "segment"
    },
    {
      "name": "synchronized_segments_mapping_hero",
      "type": "string",
      "headerTemplate": "If you have legacy field above filled in, and the table below is empty, the old filter will be applied to outgoing traffic, but you won't be able to create new custom audiences. To make this possible please move your configuration below. As soon as there is one record in the table it will be the leading setting and legacy one can be removed. This table requires you to pick `customer_file_source` value for each segment. Please refer to Facebook Ads documentation for more details.",
      "format": "information",
      "title": "New Whitelisted Segments"
    },
    {
      "name": "synchronized_segments_mapping",
      "title": "Hull Segments to sync as FB Audiences",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "segment_id": {
            "title": "Hull Segment",
            "type": "string",
            "format": "segment"
          },
          "customer_file_source": {
            "title": "customer_file_source",
            "type": "string",
            "enum": [
              "USER_PROVIDED_ONLY",
              "PARTNER_PROVIDED_ONLY",
              "BOTH_USER_AND_PARTNER_PROVIDED"
            ]
          }
        }
      }
    },
    {
      "type" : "string",
      "name" : "matching_fields",
      "title": "Matching Fields",
      "format": "title",
      "description": "The fields which are sent to custom audiences to build matching."
    },
    {
      "title": "Email Adress",
      "name" : "field_email",
      "type" : "string",
      "format" : "trait",
      "default": "email"
    },
    {
      "title": "First Name",
      "name" : "field_first_name",
      "type" : "string",
      "format" : "trait",
      "default": "first_name"
    },
    {
      "title": "Last Name",
      "name" : "field_last_name",
      "type" : "string",
      "format" : "trait",
      "default": "last_name"
    },
    {
      "title": "Phone",
      "name" : "field_phone",
      "type" : "string",
      "format" : "trait",
      "default": "phone"
    },
    {
      "title": "Gender",
      "name" : "field_gender",
      "type" : "string",
      "format": "trait"
    },
    {
      "title": "US State",
      "name" : "field_state",
      "type" : "string",
      "format": "trait"
    },
    {
      "title": "City",
      "name" : "field_city",
      "type" : "string",
      "format" : "trait",
      "default": "address_city"
    },
    {
      "title": "Country",
      "name" : "field_country",
      "type" : "string",
      "format" : "trait",
      "default": "address_country"
    }
  ],
  "resources": [],
  "subscriptions": [ { "url" : "/smart-notifier" } ],
  "schedules" : [
    {
      "url": "/status",
      "type": "interval",
      "value": "30"
    }
  ]
}
